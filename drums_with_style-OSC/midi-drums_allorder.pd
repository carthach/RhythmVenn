#N canvas 467 90 1360 720 10;
#X declare -lib mrpeach;
#X text 18 11 input a filename to analyze;
#N canvas 147 69 450 300 samples 0;
#X obj 118 54 loadbang;
#X obj 108 234 soundfiler;
#X msg 118 77 read -resize samples/kick.wav k;
#X obj 185 97 table k;
#X msg 139 122 read -resize samples/snare.wav s;
#X obj 206 142 table s;
#X obj 216 193 table o;
#X msg 149 173 read -resize samples/oh.wav o;
#X msg 174 218 read -resize samples/ch.wav c;
#X obj 241 238 table c;
#X connect 0 0 2 0;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 0 0 8 0;
#X connect 2 0 1 0;
#X connect 4 0 1 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X restore 79 656 pd samples;
#X obj 414 35 bng 40 250 50 0 \$0-generate-drumz nor change 0 19 1
12 -16662 -4034 -4034;
#N canvas 0 69 450 300 (subpatch) 0;
#X array \$0-ran32 32 float 0;
#X coords 0 1 31 0 256 50 1 0 0;
#X restore 414 96 graph;
#N canvas 441 111 520 164 players 0;
#X obj 176 135 t b f f;
#N canvas 533 82 643 300 pace 0;
#X obj 111 -127 f;
#X obj 155 -126 + 1;
#X obj 111 -180 t f f;
#X obj 171 -163 sel 1;
#X msg 171 -144 0;
#X obj 111 -160 metro 100;
#X obj 234 -231 bpm;
#X obj 33 -42 s numberz16;
#X obj 33 -60 % 16;
#X obj 111 -263 r start-drumz;
#X obj 234 -251 r bpm;
#X obj 111 -103 t f f;
#X obj 316 -140 t b f;
#X obj 234 -195 + 0;
#X obj 397 -178 t f f;
#X obj 423 -144 * -1;
#X obj 316 -227 % 8;
#X obj 316 -200 moses 4;
#X obj 361 -180 - 4;
#X obj 316 -168 *;
#X obj 361 -161 *;
#X obj 111 -77 % 32;
#X obj 111 -25 outlet;
#X obj 397 -201 inlet;
#X obj 154 -25 s numberz32;
#X obj 111 -58 t f f;
#X connect 0 0 1 0;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 2 0 5 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 1;
#X connect 5 0 0 0;
#X connect 6 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 2 0;
#X connect 10 0 6 0;
#X connect 11 0 8 0;
#X connect 11 0 21 0;
#X connect 11 1 16 0;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 5 1;
#X connect 14 0 20 1;
#X connect 14 1 15 0;
#X connect 15 0 19 1;
#X connect 16 0 17 0;
#X connect 17 0 19 0;
#X connect 17 1 18 0;
#X connect 18 0 20 0;
#X connect 19 0 12 0;
#X connect 20 0 12 0;
#X connect 21 0 25 0;
#X connect 23 0 14 0;
#X connect 25 0 22 0;
#X connect 25 1 24 0;
#X restore 176 114 pd pace;
#X obj 176 36 vsl 15 70 0 20 0 1 nos nor groove 0 -9 0 10 -262144 -1
-1 700 1;
#N canvas 630 92 398 300 generate 0;
#X msg 102 -485 32;
#X obj 102 -434 until;
#X obj 102 -414 random 1000;
#X obj 102 -393 * 0.001;
#X obj 191 -355 f;
#X obj 218 -354 + 1;
#X obj 102 -466 t f b;
#X msg 190 -442 0;
#X obj 102 -372 t f b;
#X obj 103 -504 r \$0-generate-drumz;
#X obj 102 -322 tabwrite \$0-ran32;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 5 0;
#X connect 4 0 10 1;
#X connect 5 0 4 1;
#X connect 6 0 1 0;
#X connect 6 1 7 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 8 1 4 0;
#X connect 9 0 0 0;
#X restore 303 43 pd generate new random list;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 147 656 pd players;
#X obj 458 35 tgl 40 0 start-drumz nor start 0 19 0 14 -262144 -1 -1
0 1;
#X obj 518 56 nbx 3 18 0 200 0 1 bpm nor BPM 0 -8 1 20 -262144 -1 -1
114 256;
#X msg 25 675 \; pd dsp 1;
#X obj 25 656 loadbang;
#X obj 30 178 t b a b;
#N canvas 0 22 450 300 (subpatch) 0;
#X array step-p 16 float 0;
#X coords 0 1 15 0 200 50 1 0 0;
#X restore 684 96 graph;
#X msg 49 109 midi/clyde1_10.mid;
#X msg 46 90 midi/clyde8.mid;
#X msg 41 70 midi/motown.mid;
#X msg 24 51 midi/clyde8y9.mid;
#X msg 17 33 midi/clyde_8_14.mid;
#N canvas 246 168 917 451 dicc2sound 0;
#X obj 232 164 tabplay~ k;
#X obj 232 145 sel 1;
#X obj 302 142 sel 1;
#X obj 302 162 tabplay~ s;
#X obj 373 142 sel 1;
#X obj 373 188 tabplay~ c;
#X obj 450 140 sel 1;
#X obj 450 183 tabplay~ o;
#X obj 302 182 *~ 0.8;
#N canvas 179 106 1001 633 dicc2patt 0;
#X obj 31 60 inlet;
#X obj 545 483 outlet;
#X obj 58 229 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X text 68 59 convert a number into a group of parallel patterns;
#X msg 47 402 0 0 0 0;
#X msg 99 401 1 0 0 0;
#X msg 154 401 0 1 0 0;
#X msg 210 402 0 0 1 0;
#X msg 271 403 0 0 0 1;
#X msg 323 402 1 1 0 0;
#X msg 378 402 1 0 1 0;
#X msg 430 401 1 0 0 1;
#X msg 486 402 0 1 1 0;
#X msg 538 401 0 1 0 1;
#X msg 593 401 0 0 1 1;
#X msg 649 402 1 1 1 0;
#X msg 710 403 1 1 0 1;
#X msg 762 402 1 0 1 1;
#X msg 817 402 0 1 1 1;
#X msg 869 401 1 1 1 1;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 2 2 6 0;
#X connect 2 3 7 0;
#X connect 2 4 8 0;
#X connect 2 5 9 0;
#X connect 2 6 10 0;
#X connect 2 7 11 0;
#X connect 2 8 12 0;
#X connect 2 9 13 0;
#X connect 2 10 14 0;
#X connect 2 11 15 0;
#X connect 2 12 16 0;
#X connect 2 13 17 0;
#X connect 2 14 18 0;
#X connect 2 15 19 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 1 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X connect 19 0 1 0;
#X restore 275 79 pd dicc2patt;
#X text 355 79 convertir el diccionario en patrones;
#X obj 275 99 unpack f f f f;
#X obj 373 208 *~ 0.7;
#X obj 450 203 *~ 0.5;
#X obj 450 160 t b b;
#X obj 373 162 t b b;
#X msg 526 184 0;
#X msg 554 185 0.5;
#X obj 620 8 inlet;
#X obj 450 264 throw~ drums;
#X obj 315 314 catch~ drums;
#X obj 321 424 dac~;
#X obj 451 237 *~;
#X obj 379 262 throw~ drums;
#X obj 380 235 *~;
#X obj 268 270 throw~ drums;
#X obj 269 243 *~;
#X obj 176 271 throw~ drums;
#X obj 177 244 *~;
#X obj 620 48 t a b;
#X obj 644 101 t b b b b;
#X obj 623 172 random 100;
#X obj 623 193 / 100;
#X obj 623 215 - 1;
#X obj 622 236 abs;
#X obj 692 172 random 100;
#X obj 692 193 / 100;
#X obj 692 215 - 1;
#X obj 691 236 abs;
#X obj 765 170 random 100;
#X obj 765 191 / 100;
#X obj 765 213 - 1;
#X obj 764 234 abs;
#X obj 834 170 random 100;
#X obj 834 191 / 100;
#X obj 834 213 - 1;
#X obj 833 234 abs;
#X obj 824 17 vsl 15 128 0 100 0 1 empty empty empty 0 -9 0 10 -262144
-1 -1 3200 1;
#X obj 304 393 freeverb~;
#X msg 477 354 dry 1;
#X obj 488 316 loadbang;
#X obj 314 337 *~ 0.7;
#X msg 390 356 roomsize 0.3;
#X msg 577 354 damping 1;
#X obj 622 263 pack f 2;
#X obj 622 284 line~;
#X obj 691 263 pack f 2;
#X obj 691 284 line~;
#X obj 762 258 pack f 2;
#X obj 762 279 line~;
#X obj 831 258 pack f 2;
#X obj 831 279 line~;
#X msg 521 353 wet 0.19;
#X obj 620 28 - 10;
#X connect 0 0 28 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 15 0;
#X connect 5 0 12 0;
#X connect 6 0 14 0;
#X connect 7 0 13 0;
#X connect 8 0 26 0;
#X connect 9 0 11 0;
#X connect 11 0 1 0;
#X connect 11 1 2 0;
#X connect 11 2 4 0;
#X connect 11 3 6 0;
#X connect 12 0 24 0;
#X connect 13 0 22 0;
#X connect 14 0 7 0;
#X connect 14 1 17 0;
#X connect 15 0 5 0;
#X connect 15 1 16 0;
#X connect 16 0 13 1;
#X connect 17 0 13 1;
#X connect 18 0 63 0;
#X connect 20 0 51 0;
#X connect 22 0 19 0;
#X connect 24 0 23 0;
#X connect 26 0 25 0;
#X connect 28 0 27 0;
#X connect 29 0 9 0;
#X connect 29 1 30 0;
#X connect 30 0 31 0;
#X connect 30 1 35 0;
#X connect 30 2 39 0;
#X connect 30 3 43 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 54 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 56 0;
#X connect 39 0 40 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 42 0 58 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 46 0 60 0;
#X connect 47 0 31 1;
#X connect 47 0 35 1;
#X connect 47 0 43 1;
#X connect 48 0 21 0;
#X connect 48 1 21 1;
#X connect 49 0 48 0;
#X connect 50 0 52 0;
#X connect 50 0 49 0;
#X connect 50 0 62 0;
#X connect 50 0 53 0;
#X connect 51 0 48 0;
#X connect 51 0 48 1;
#X connect 52 0 48 0;
#X connect 53 0 48 0;
#X connect 54 0 55 0;
#X connect 55 0 28 1;
#X connect 56 0 57 0;
#X connect 57 0 26 1;
#X connect 58 0 59 0;
#X connect 59 0 24 1;
#X connect 60 0 61 0;
#X connect 61 0 22 1;
#X connect 62 0 48 0;
#X connect 63 0 29 0;
#X restore 665 564 pd dicc2sound;
#X obj 300 195 s reset;
#X msg 57 130 midi/funkdrums2_jamesbrown.mid;
#X msg 63 149 midi/funkdrums_hitme.mid;
#N canvas 429 145 816 640 analyse 0;
#X obj 105 23 inlet;
#X text 25 -1 info from file;
#X msg 355 131 read \$1;
#X obj 355 112 symbol;
#X obj 245 159 mrpeach/midifile;
#X msg 245 131 verbose 0;
#X obj 146 111 until;
#X msg 309 131 rewind;
#X obj 338 178 route bang ticks_per_quarternote end;
#X obj 146 135 t b b;
#X obj 409 236 / 4;
#X obj 146 68 t b b b a b;
#X msg 512 126 0;
#X obj 146 274 sel 0;
#N canvas 719 390 450 300 sel 0;
#X obj 22 18 inlet midi stream;
#X obj 272 23 inlet channel number;
#X obj 24 210 outlet onset notes;
#X obj 24 49 route 144 153;
#X text 109 51 <- MIDI channel 1 or 10;
#X text 41 32 only onsets;
#X obj 24 179 list split 1;
#X text 102 178 <- only notes;
#X obj 57 106 == 1;
#X obj 99 106 == 10;
#X obj 24 124 spigot;
#X obj 61 125 spigot;
#X connect 0 0 3 0;
#X connect 1 0 9 0;
#X connect 1 0 8 0;
#X connect 3 0 10 0;
#X connect 3 1 11 0;
#X connect 6 0 2 0;
#X connect 8 0 10 1;
#X connect 9 0 11 1;
#X connect 10 0 6 0;
#X connect 11 0 6 0;
#X restore 245 325 pd sel midi channel;
#X obj 356 309 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 10 256;
#X obj 280 283 * 4;
#X obj 280 266 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 8 256;
#X obj 105 42 t b a;
#X obj 20 376 f;
#X obj 146 458 list split 1;
#X obj 20 395 -;
#X obj 20 414 abs;
#X obj 53 452 - 1;
#X obj 53 471 until;
#X obj 20 433 sel 32;
#X text 370 291 chanel;
#X text 284 251 beats;
#N canvas 652 463 450 300 mod 0;
#X obj 45 181 outlet;
#X obj 45 115 f;
#X obj 69 115 + 1;
#X obj 45 141 %;
#X obj 45 69 inlet bang;
#X obj 125 68 inlet reset;
#X obj 213 70 inlet modulus;
#X msg 125 88 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 3 1;
#X connect 7 0 1 1;
#X restore 146 253 pd mod;
#N canvas 47 205 450 300 index 0;
#X obj 149 136 list;
#X obj 181 136 list;
#X obj 128 203 list;
#X obj 47 63 t b f b;
#X obj 47 38 inlet index;
#X obj 149 59 inlet element;
#X obj 128 231 outlet list;
#X connect 0 0 1 0;
#X connect 0 0 2 1;
#X connect 1 0 0 1;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 3 1 2 0;
#X connect 3 2 0 1;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X restore 146 392 pd index the list;
#X obj 146 432 t a a;
#N canvas 644 483 450 300 mod 0;
#X obj 45 181 outlet;
#X obj 45 115 f;
#X obj 69 115 + 1;
#X obj 45 159 %;
#X obj 45 69 inlet bang;
#X obj 125 68 inlet reset;
#X obj 213 70 inlet modulus;
#X msg 125 88 0;
#X obj 231 180 outlet total counts;
#X obj 44 136 t f f;
#X connect 1 0 2 0;
#X connect 1 0 9 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 3 1;
#X connect 7 0 1 1;
#X connect 9 0 3 0;
#X connect 9 1 8 0;
#X restore 146 300 pd mod;
#N canvas 576 177 584 585 p2d 0;
#X obj 10 67 inlet;
#X obj 10 258 l2s;
#X obj 102 222 loadbang;
#X obj 10 229 list prepend _;
#X obj 10 292 sel _0000 _1000 _0100 _0010 _0001 _1100 _1010 _1001 _0110
_0101 _0011 _1110 _1101 _1011 _0111 _1111;
#X msg 10 347 0;
#X msg 40 347 1;
#X msg 69 347 2;
#X msg 98 347 3;
#X msg 128 347 4;
#X msg 159 348 5;
#X msg 188 349 6;
#X msg 219 348 7;
#X msg 249 349 8;
#X msg 279 349 9;
#X msg 310 349 10;
#X msg 341 349 11;
#X msg 372 349 12;
#X msg 402 348 13;
#X msg 431 348 14;
#X msg 470 348 15;
#X obj 150 402 f;
#X obj 150 444 outlet;
#X msg 102 241 symbol;
#X msg 39 149 1;
#X msg 73 150 1;
#X msg 107 150 1;
#X msg 138 150 1;
#X msg 199 118 0;
#N canvas 825 433 450 300 drip 0;
#X obj 90 75 list split 1;
#X obj 90 96 t b f;
#X obj 127 121 list;
#X obj 90 45 inlet;
#X obj 117 176 outlet;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 1 1 4 0;
#X connect 2 0 0 0;
#X connect 3 0 0 0;
#X restore 36 107 pd drip;
#X obj 36 127 sel 1 2 3 4;
#X text 30 46 index and list;
#X text 26 13 convert simultaneous patterns into a diccionary;
#X obj 150 422 + 10;
#X text 131 462 output the id of the pattern;
#X obj 10 86 t b a b;
#X floatatom 214 417 5 0 0 0 - - -;
#X obj 10 177 pack f f f f f;
#X obj 25 202 list split 1;
#X connect 0 0 35 0;
#X connect 1 0 4 0;
#X connect 2 0 23 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 4 2 7 0;
#X connect 4 3 8 0;
#X connect 4 4 9 0;
#X connect 4 5 10 0;
#X connect 4 6 11 0;
#X connect 4 7 12 0;
#X connect 4 8 13 0;
#X connect 4 9 14 0;
#X connect 4 10 15 0;
#X connect 4 11 16 0;
#X connect 4 12 17 0;
#X connect 4 13 18 0;
#X connect 4 14 19 0;
#X connect 4 15 20 0;
#X connect 5 0 21 0;
#X connect 6 0 21 0;
#X connect 7 0 21 0;
#X connect 8 0 21 0;
#X connect 9 0 21 0;
#X connect 10 0 21 0;
#X connect 11 0 21 0;
#X connect 12 0 21 0;
#X connect 13 0 21 0;
#X connect 14 0 21 0;
#X connect 15 0 21 0;
#X connect 16 0 21 0;
#X connect 17 0 21 0;
#X connect 18 0 21 0;
#X connect 19 0 21 0;
#X connect 20 0 21 0;
#X connect 21 0 33 0;
#X connect 23 0 1 1;
#X connect 24 0 37 1;
#X connect 25 0 37 2;
#X connect 26 0 37 3;
#X connect 27 0 37 4;
#X connect 28 0 37 3;
#X connect 28 0 37 2;
#X connect 28 0 37 1;
#X connect 28 0 37 4;
#X connect 29 0 30 0;
#X connect 30 0 24 0;
#X connect 30 1 25 0;
#X connect 30 2 26 0;
#X connect 30 3 27 0;
#X connect 33 0 22 0;
#X connect 33 0 36 0;
#X connect 35 0 37 0;
#X connect 35 1 29 0;
#X connect 35 2 28 0;
#X connect 37 0 38 0;
#X connect 38 1 3 0;
#X restore 273 489 pd p2d;
#X obj 239 469 list split 1;
#X obj 239 532 pack f f;
#X text 306 506 convert the list to dictionary;
#X obj 338 198 t b b;
#X obj 623 461 f;
#X obj 623 484 /;
#X obj 623 503 int;
#X obj 623 524 + 1;
#X text 652 465 rounded size;
#X obj 623 566 *;
#X obj 666 441 t f f;
#X obj 623 544 t f f;
#X obj 273 508 t f f;
#X obj 623 603 outlet total elements;
#X obj 659 579 outlet total patterns;
#X obj 411 535 pack f f;
#X obj 413 449 t f f;
#X obj 413 574 outlet index dictionary;
#N canvas 595 282 435 143 note 0;
#X obj 159 21 inlet;
#X obj 159 86 outlet;
#X msg 159 62 1;
#X msg 188 62 2;
#X msg 217 62 3;
#X msg 247 62 4;
#X obj 159 45 sel 35 36 38 40 42 46 47;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 6 1 2 0;
#X connect 6 2 3 0;
#X connect 6 3 3 0;
#X connect 6 4 4 0;
#X connect 6 5 5 0;
#X connect 6 6 5 0;
#X restore 245 345 pd note to hit;
#N canvas 776 440 450 202 if 0;
#X obj 59 28 inlet;
#X obj 72 133 outlet;
#X obj 59 50 list split 1;
#X obj 72 114 list;
#X obj 93 70 route bang;
#X msg 93 89 0;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 1 3 1;
#X connect 5 0 3 1;
#X restore 239 449 pd if list is empty output 0;
#X msg 412 554 \$2 \$1;
#X text 240 562 mod index dictionary;
#X connect 0 0 18 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 14 0;
#X connect 4 2 8 0;
#X connect 5 0 4 0;
#X connect 6 0 9 0;
#X connect 7 0 4 0;
#X connect 8 0 36 0;
#X connect 8 1 10 0;
#X connect 9 0 28 0;
#X connect 9 1 4 0;
#X connect 10 0 28 2;
#X connect 11 0 6 0;
#X connect 11 1 5 0;
#X connect 11 2 7 0;
#X connect 11 3 3 0;
#X connect 11 4 12 0;
#X connect 12 0 28 1;
#X connect 12 0 31 1;
#X connect 13 0 31 0;
#X connect 14 0 51 0;
#X connect 15 0 14 1;
#X connect 16 0 21 1;
#X connect 16 0 31 2;
#X connect 16 0 43 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 18 1 11 0;
#X connect 19 0 21 0;
#X connect 20 0 19 1;
#X connect 21 0 22 0;
#X connect 22 0 25 0;
#X connect 23 0 24 0;
#X connect 24 0 31 0;
#X connect 25 1 23 0;
#X connect 28 0 13 0;
#X connect 29 0 30 0;
#X connect 30 0 20 0;
#X connect 30 1 52 0;
#X connect 31 0 29 0;
#X connect 31 1 49 0;
#X connect 32 0 45 0;
#X connect 33 0 34 0;
#X connect 33 1 32 0;
#X connect 36 0 6 1;
#X connect 36 1 37 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 44 0;
#X connect 42 0 46 0;
#X connect 43 0 38 1;
#X connect 43 1 42 1;
#X connect 44 0 42 0;
#X connect 44 1 47 0;
#X connect 45 0 34 1;
#X connect 45 1 48 0;
#X connect 48 0 53 0;
#X connect 49 0 48 1;
#X connect 49 1 37 1;
#X connect 51 0 29 1;
#X connect 52 0 33 0;
#X connect 53 0 50 0;
#X restore 49 231 pd analyse MIDI;
#N canvas 439 145 728 607 knowledge 0;
#X obj 171 38 inlet index value;
#X obj 365 30 inlet elements;
#X obj 171 213 coll \$0-stream;
#C restore;
#X obj 487 31 inlet reset;
#X msg 487 174 clear;
#X obj 171 57 t a a;
#X obj 228 113 unpack;
#X obj 171 170 list append;
#X obj 296 119 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 32 256;
#X obj 228 133 %;
#N canvas 577 271 450 300 round 0;
#X msg 118 28 length;
#X obj 118 80 %;
#X obj 118 202 coll \$0-stream;
#C restore;
#X obj 118 47 coll \$0-stream;
#C restore;
#X obj 118 102 until;
#X msg 118 123 length;
#X obj 118 142 coll \$0-stream;
#C restore;
#X msg 118 180 delete \$1;
#X obj 118 161 - 1;
#X obj 118 8 inlet bang to delete;
#X obj 258 63 inlet size in 16th note;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 2 0;
#X connect 8 0 7 0;
#X connect 9 0 0 0;
#X connect 10 0 1 1;
#X restore 146 256 pd round up the coll;
#X obj 18 38 inlet bang when finished;
#X obj 18 239 t b b;
#X text 295 100 length of analysis 16th note;
#X msg 18 395 bang;
#N canvas 240 220 639 504 create 0;
#X obj 430 90 nbx 5 14 -1e+37 1e+37 0 1 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X obj 214 279 coll \$0-stream;
#C restore;
#X obj 214 299 list split 1;
#X obj 213 346 list split;
#X obj 430 189 + 1;
#X msg 452 273 bang;
#X obj 214 325 list append;
#N canvas 796 499 450 300 list 0;
#X obj 31 34 inlet list;
#X obj 62 237 outlet list;
#X obj 89 105 list split 1;
#X obj 220 155 list;
#X msg 208 87 bang;
#X obj 88 126 t b a;
#X obj 131 127 list;
#X obj 37 179 list;
#X obj 88 76 t b a b;
#X obj 105 156 list append;
#X connect 0 0 8 0;
#X connect 2 0 5 0;
#X connect 2 1 6 1;
#X connect 3 0 9 1;
#X connect 4 0 9 1;
#X connect 5 0 6 0;
#X connect 5 1 9 0;
#X connect 6 0 2 0;
#X connect 7 0 1 0;
#X connect 8 0 7 0;
#X connect 8 1 2 0;
#X connect 8 2 4 0;
#X connect 9 0 3 0;
#X connect 9 0 7 1;
#X restore 213 378 pd list reverse;
#X obj 156 109 coll \$0-stream;
#C restore;
#X msg 156 68 length;
#X obj 232 174 -;
#X obj 214 260 %;
#X obj 156 173 until;
#X obj 156 128 t f f f b;
#X obj 156 207 f;
#X obj 183 207 + 1;
#X msg 229 148 0;
#X obj 214 238 +;
#X obj 156 88 t a b;
#X obj 156 153 +;
#X obj 156 40 inlet bang;
#X obj 429 69 inlet markov order;
#X obj 213 404 list prepend;
#X obj 213 425 list prepend;
#X obj 276 212 t f f;
#X obj 321 235 -;
#X obj 213 446 outlet general-index index-within-pattern n-plets;
#X connect 0 0 4 0;
#X connect 0 0 10 1;
#X connect 0 0 19 1;
#X connect 0 0 25 1;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 2 1 22 1;
#X connect 3 0 6 1;
#X connect 3 0 7 0;
#X connect 3 2 6 1;
#X connect 4 0 3 1;
#X connect 5 0 6 1;
#X connect 6 0 3 0;
#X connect 7 0 22 0;
#X connect 8 0 13 0;
#X connect 9 0 18 0;
#X connect 10 0 17 1;
#X connect 11 0 1 0;
#X connect 12 0 14 0;
#X connect 13 0 19 0;
#X connect 13 1 10 0;
#X connect 13 2 11 1;
#X connect 13 3 16 0;
#X connect 14 0 15 0;
#X connect 14 0 24 0;
#X connect 15 0 14 1;
#X connect 16 0 14 1;
#X connect 17 0 11 0;
#X connect 18 0 8 0;
#X connect 18 1 5 0;
#X connect 19 0 12 0;
#X connect 20 0 9 0;
#X connect 21 0 0 0;
#X connect 22 0 23 0;
#X connect 23 0 26 0;
#X connect 24 0 17 0;
#X connect 24 1 25 0;
#X connect 25 0 23 1;
#X restore 18 416 pd create all markov n-plets;
#X obj 359 119 cnv 15 15 15 empty empty empty 20 12 0 14 -258113 -66577
0;
#X text 327 450 (1) \$0-stream has all notes in order. the abstraction
[pd round up the coll] is in charge of rounding up the elements in
the coll so it has a fixed duration of 16 or 32 steps.;
#X text 326 432 two colls are created:;
#X obj 18 456 coll \$0-knowledge;
#C restore;
#X text 327 498 (2) The second coll \$0-knowledge has the Markov matrix
(aka the knowledge). This coll is wrapped wround 16 or 32 steps which
are the indexes. Each aditional column is a complete pattern. Each
element of the column is in the form of precedentEvent \, so the last
item is the event that was actually payed on that step and any previous
information is the preceding elements.;
#N canvas 757 396 450 300 wrap 0;
#X obj 113 173 list;
#X obj 147 156 l2s;
#X obj 163 117 loadbang;
#X msg 113 193 merge \$1 \$2;
#X obj 79 65 list split 1;
#X obj 113 86 list split 1;
#X msg 163 136 symbol;
#X obj 79 30 inlet;
#X obj 113 225 outlet;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 6 0;
#X connect 3 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 6 0 1 1;
#X connect 7 0 4 0;
#X restore 18 436 pd wrap and compress;
#X obj 535 253 inlet;
#X connect 0 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 4 0 19 0;
#X connect 5 0 7 0;
#X connect 5 1 6 0;
#X connect 6 0 9 0;
#X connect 7 0 2 0;
#X connect 8 0 9 1;
#X connect 8 0 10 1;
#X connect 9 0 7 1;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 12 1 10 0;
#X connect 14 0 15 0;
#X connect 15 0 21 0;
#X connect 21 0 19 0;
#X connect 22 0 15 1;
#X restore 30 299 pd knowledge;
#X msg 147 231 bang;
#X msg 866 260 44;
#X floatatom 615 225 5 0 0 0 - - -;
#X text 647 224 INDEX;
#X obj 615 244 t f f;
#X obj 756 261 tabread \$0-ran32;
#X obj 615 264 coll \$0-knowledge;
#C restore;
#X obj 615 207 hradio 15 1 0 8 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#N canvas 508 499 450 300 random 0;
#X obj 33 28 inlet lista;
#X obj 195 22 inlet random number;
#X obj 67 247 outlet;
#X obj 33 50 t a a;
#X obj 60 71 list length;
#X obj 90 135 *;
#X obj 90 154 int;
#X obj 33 198 list split;
#X obj 67 220 list split 1;
#X obj 90 175 - 1;
#X obj 60 92 + 1.25;
#X connect 0 0 3 0;
#X connect 1 0 5 1;
#X connect 3 0 7 0;
#X connect 3 1 4 0;
#X connect 4 0 10 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 1 8 0;
#X connect 8 0 2 0;
#X connect 9 0 7 1;
#X connect 10 0 5 0;
#X restore 615 284 pd random list 2 element;
#N canvas 451 499 450 300 split 0;
#X obj 130 77 t a a;
#X obj 187 94 list length;
#X obj 130 132 list split;
#X obj 187 113 - 1;
#X obj 144 52 inlet;
#X obj 94 186 outlet;
#X obj 167 223 outlet;
#X obj 94 163 list trim;
#X obj 179 194 s2l;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 3 0;
#X connect 2 0 7 0;
#X connect 2 1 8 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X restore 615 322 pd split past now;
#N canvas 333 299 562 451 element2list 0;
#X obj 103 145 s2l;
#X msg 118 126 symbol;
#X obj 118 107 loadbang;
#X obj 103 166 list split 2;
#X obj 103 185 t b a;
#X obj 130 260 l2s;
#X obj 145 222 loadbang;
#X msg 145 241 symbol;
#X obj 144 202 list;
#X obj 304 329 list;
#X obj 84 352 list;
#X obj 84 33 t b a b;
#X obj 280 297 list prepend;
#X obj 84 11 inlet;
#X obj 84 387 outlet;
#X text 216 104 Convert a wrapped element of the knowledge database
into its elements.;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 1;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 9 0 12 1;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 0 0;
#X connect 11 2 12 1;
#X connect 11 2 10 1;
#X connect 12 0 9 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X restore 615 303 pd element2list;
#N canvas 348 409 450 300 define 0;
#X obj 37 26 inlet previous past;
#X obj 201 27 inlet previous now;
#X obj 83 206 outlet new past;
#X obj 37 89 list split 1;
#X obj 77 139 list;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 3 1 4 0;
#X connect 4 0 2 0;
#X restore 615 360 pd define new past;
#X obj 714 341 t f f;
#N canvas 503 70 562 564 search 0;
#X obj 146 80 inlet index;
#X text 90 10 given this past and this index find a list of candidates
;
#X obj 163 147 coll \$0-knowledge;
#C restore;
#N canvas 315 287 562 451 element2list 0;
#X obj 103 145 s2l;
#X msg 118 126 symbol;
#X obj 118 107 loadbang;
#X obj 103 166 list split 2;
#X obj 103 185 t b a;
#X obj 130 260 l2s;
#X obj 145 222 loadbang;
#X msg 145 241 symbol;
#X obj 144 202 list;
#X obj 304 329 list;
#X obj 84 352 list;
#X obj 84 33 t b a b;
#X obj 280 297 list prepend;
#X obj 84 11 inlet;
#X obj 84 387 outlet;
#X text 199 99 Convert a wrapped element of the knowledge database
into its elements.;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 1;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 9 0 12 1;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 0 0;
#X connect 11 2 12 1;
#X connect 11 2 10 1;
#X connect 12 0 9 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X restore 163 185 pd element2list;
#N canvas 435 468 450 300 drip 0;
#X obj 32 51 inlet;
#X obj 45 179 outlet;
#X obj 44 90 list split 1;
#X obj 43 116 t b a;
#X obj 83 140 list;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 1;
#X connect 3 0 4 0;
#X connect 3 1 1 0;
#X connect 4 0 2 0;
#X restore 163 166 pd drip;
#X obj 293 113 inlet past;
#X obj 250 312 tabread \$0-ran32;
#X obj 251 358 list prepend;
#X obj 293 162 t a a;
#N canvas 537 458 450 300 makelist 0;
#X obj 241 28 inlet values;
#X obj 52 29 inlet bang to output and reset;
#X obj 147 115 list;
#X obj 321 90 loadbang;
#X msg 321 112 bang;
#X obj 175 145 list;
#X obj 74 202 list;
#X obj 69 74 t b b;
#X obj 73 247 outlet;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 5 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 4 0 6 1;
#X connect 5 0 2 1;
#X connect 6 0 8 0;
#X connect 7 0 4 0;
#X connect 7 1 6 0;
#X restore 100 232 pd makelist;
#X obj 146 99 t b f f b;
#X msg 100 387 bang;
#N canvas 868 192 450 362 create 0;
#X obj 52 15 inlet;
#N canvas 435 468 450 300 drip 0;
#X obj 32 51 inlet;
#X obj 45 179 outlet;
#X obj 44 90 list split 1;
#X obj 43 116 t b a;
#X obj 83 140 list;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 1;
#X connect 3 0 4 0;
#X connect 3 1 1 0;
#X connect 4 0 2 0;
#X restore 71 69 pd drip;
#N canvas 395 310 450 300 packel 0;
#X obj 211 27 inlet list;
#X obj 121 27 inlet element;
#X obj 93 115 list split;
#X obj 121 139 list split 1;
#X obj 121 171 outlet;
#X obj 121 49 - 1;
#X obj 229 63 t b f;
#X obj 222 84 list;
#X connect 0 0 7 1;
#X connect 1 0 5 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 5 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X restore 71 178 pd packel;
#X msg 157 101 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 71 203 + 1;
#N canvas 415 325 450 371 insert 0;
#X obj 142 167 list split;
#X obj 142 129 list;
#X obj 142 102 t b f;
#X obj 65 45 inlet value;
#X obj 263 48 inlet list;
#X obj 159 40 inlet index;
#X obj 170 212 list split 1;
#X obj 183 293 list;
#X msg 171 234 bang;
#X obj 172 261 f;
#X obj 142 316 list;
#X obj 142 342 outlet;
#X obj 65 79 t b f;
#X obj 144 81 f;
#X obj 181 70 - 1;
#X connect 0 0 10 0;
#X connect 0 1 6 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 1 0 1;
#X connect 3 0 12 0;
#X connect 4 0 1 1;
#X connect 5 0 14 0;
#X connect 6 0 8 0;
#X connect 6 1 7 1;
#X connect 7 0 10 1;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 12 1 9 1;
#X connect 13 0 2 0;
#X connect 14 0 13 1;
#X restore 71 265 pd insert in package;
#X obj 157 161 t a a;
#X obj 71 159 t f f;
#X obj 49 338 outlet;
#X obj 49 295 list;
#X obj 52 47 t b a b;
#X obj 71 109 s2l;
#X text 174 82 startting list (16 possible events);
#X obj 11 194 t b b;
#N canvas 440 464 450 300 normalize 0;
#X obj 43 13 inlet list;
#X obj 43 36 t b a a;
#X obj 204 138 sum;
#X obj 68 86 list split 1;
#X obj 120 127 list;
#X obj 68 109 t b f;
#X obj 95 178 /;
#N canvas 546 464 450 300 makelist 0;
#X obj 241 28 inlet values;
#X obj 52 29 inlet bang to output and reset;
#X obj 321 90 loadbang;
#X msg 321 112 bang;
#X obj 175 145 list;
#X obj 74 202 list;
#X obj 69 74 t b b;
#X obj 73 247 outlet;
#X obj 147 115 list prepend;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 5 1;
#X connect 3 0 8 1;
#X connect 4 0 8 1;
#X connect 5 0 7 0;
#X connect 6 0 3 0;
#X connect 6 1 5 0;
#X connect 8 0 4 0;
#X connect 8 0 5 1;
#X restore 43 222 pd makelist;
#X obj 46 252 outlet;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 1 1 3 0;
#X connect 1 2 2 0;
#X connect 2 0 6 1;
#X connect 3 0 5 0;
#X connect 3 1 4 1;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 5 1 6 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X restore 49 315 pd normalize;
#X obj 71 133 - 9;
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 9 1;
#X connect 6 0 2 1;
#X connect 6 1 5 2;
#X connect 7 0 2 0;
#X connect 7 1 5 1;
#X connect 9 0 14 0;
#X connect 10 0 13 0;
#X connect 10 1 1 0;
#X connect 10 2 3 0;
#X connect 11 0 15 0;
#X connect 13 0 9 1;
#X connect 13 1 9 0;
#X connect 14 0 8 0;
#X connect 15 0 7 0;
#X restore 100 254 pd create histogram;
#X obj 7 329 s step-p;
#X obj 7 308 list prepend 0;
#X obj 100 312 route bang;
#X msg 100 436 \; step-p const 0;
#X text 220 252 <- given the input past this is the resulting histogram
;
#N canvas 539 89 450 533 probs2element 0;
#X obj 102 328 sum;
#X obj 102 252 list;
#X obj 102 307 list split;
#X obj 102 216 t b b;
#X obj 159 247 f;
#X obj 190 247 + 1;
#X msg 174 219 0;
#X obj 159 267 + 1;
#X obj 102 164 list length;
#X obj 102 186 until;
#X obj 102 138 t a a b;
#X obj 191 450 f;
#X obj 159 287 t f f;
#X obj 162 400 sel 1;
#X obj 260 102 t b f;
#X obj 102 119 list;
#X obj 162 378 >=;
#X obj 162 424 t b b;
#X obj 123 46 inlet probabilities;
#X obj 260 65 inlet random number;
#X obj 191 504 outlet selected class;
#X obj 191 475 + 9;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 12 0;
#X connect 8 0 9 0;
#X connect 9 0 3 0;
#X connect 10 0 8 0;
#X connect 10 1 1 1;
#X connect 10 2 6 0;
#X connect 11 0 21 0;
#X connect 12 0 2 1;
#X connect 12 1 11 1;
#X connect 13 0 17 0;
#X connect 14 0 15 0;
#X connect 14 1 16 1;
#X connect 15 0 10 0;
#X connect 16 0 13 0;
#X connect 17 0 11 0;
#X connect 17 1 9 1;
#X connect 18 0 15 1;
#X connect 19 0 14 0;
#X connect 21 0 20 0;
#X restore 157 332 pd probs2element;
#N canvas 901 309 376 300 format 0;
#X obj 115 103 l2s;
#X obj 130 63 loadbang;
#X msg 130 82 symbol _;
#X msg 115 124 symbol _\$1;
#X obj 115 39 inlet;
#X obj 115 167 outlet;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X restore 293 188 pd format;
#N canvas 817 191 457 400 refine 0;
#X obj 66 237 list split;
#X obj 66 177 t a a;
#X obj 102 197 list length;
#X obj 102 216 - 1;
#X obj 66 257 l2s;
#X obj 156 220 loadbang;
#X msg 156 240 symbol _;
#X msg 66 279 symbol _\$1;
#X obj 90 305 sel a;
#X obj 112 325 symbol;
#X obj 100 24 inlet list of elements;
#X obj 217 288 inlet past;
#X obj 33 361 outlet;
#X obj 33 24 r \$0-order;
#X obj 33 94 gate 2;
#X obj 33 56 != 0;
#X obj 33 75 + 1;
#X text 84 91 Note: if the order is 0 bypass this object because there
is no past. If the order is higher then use the code below.;
#X connect 0 0 4 0;
#X connect 0 1 9 1;
#X connect 1 0 0 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 1;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 10 0 14 1;
#X connect 11 0 8 1;
#X connect 13 0 15 0;
#X connect 14 0 12 0;
#X connect 14 1 1 0;
#X connect 15 0 16 0;
#X connect 16 0 14 0;
#X restore 163 205 pd refine list;
#X obj 487 404 outlet zfs;
#N canvas 418 448 450 300 split 0;
#X obj 130 77 t a a;
#X obj 187 94 list length;
#X obj 130 132 list split;
#X obj 187 113 - 1;
#X obj 130 47 inlet;
#X obj 94 163 list trim;
#X text 164 45 a list with past and now;
#X obj 186 186 outlet now;
#X obj 94 186 outlet past;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 3 0;
#X connect 2 0 5 0;
#X connect 2 1 7 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 5 0 8 0;
#X restore 250 430 pd split past now;
#N canvas 325 400 450 300 define 0;
#X obj 37 26 inlet previous past;
#X obj 201 27 inlet previous now;
#X obj 71 150 outlet new past;
#X obj 37 89 list split 1;
#X obj 71 123 list;
#X connect 0 0 3 0;
#X connect 1 0 4 1;
#X connect 3 1 4 0;
#X connect 4 0 2 0;
#X restore 250 469 pd define new past;
#X obj 355 450 t f f;
#X obj 382 486 outlet now;
#X obj 250 521 outlet newpast;
#X msg 104 82 0;
#X connect 0 0 10 0;
#X connect 2 0 4 0;
#X connect 3 0 20 0;
#X connect 4 0 3 0;
#X connect 5 0 8 0;
#X connect 6 0 18 1;
#X connect 7 0 22 0;
#X connect 8 0 19 0;
#X connect 8 1 7 1;
#X connect 9 0 12 0;
#X connect 10 0 9 0;
#X connect 10 1 2 0;
#X connect 10 2 6 0;
#X connect 11 0 16 0;
#X connect 11 0 21 0;
#X connect 12 0 15 0;
#X connect 12 0 14 0;
#X connect 14 0 13 0;
#X connect 15 0 11 0;
#X connect 15 1 18 0;
#X connect 18 0 7 0;
#X connect 19 0 20 1;
#X connect 20 0 9 1;
#X connect 22 0 23 0;
#X connect 22 1 24 0;
#X connect 23 0 26 0;
#X connect 24 0 23 1;
#X connect 24 1 25 0;
#X connect 27 0 10 0;
#X restore 510 454 pd search next now;
#N canvas 331 304 562 451 element2list 0;
#X obj 103 145 s2l;
#X msg 118 126 symbol;
#X obj 118 107 loadbang;
#X obj 103 166 list split 2;
#X obj 103 185 t b a;
#X obj 130 260 l2s;
#X obj 145 222 loadbang;
#X msg 145 241 symbol;
#X obj 144 202 list;
#X obj 304 329 list;
#X obj 84 352 list;
#X obj 84 33 t b a b;
#X obj 280 297 list prepend;
#X obj 84 11 inlet;
#X obj 84 387 outlet;
#X text 216 104 Convert a wrapped element of the knowledge database
into its elements.;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 1 8 1;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 9 0 12 1;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 0 0;
#X connect 11 2 12 1;
#X connect 11 2 10 1;
#X connect 12 0 9 0;
#X connect 12 0 10 1;
#X connect 13 0 11 0;
#X restore 1110 397 pd element2list;
#X text 625 452 <- input: index and past \, output: new now;
#X obj 490 223 cnv 15 120 160 empty empty empty 20 12 0 14 -233017
-66577 0;
#X text 493 238 This fragment;
#X text 493 249 is to get started;
#X text 496 276 It looks on the;
#X text 495 288 first item of the;
#X text 494 331 and selects one;
#X text 494 343 element according;
#X text 493 356 to the random list;
#X text 495 299 knowledge matrix;
#X text 521 314 step 0;
#X obj 615 486 print ZFS;
#N canvas 561 499 450 300 makelist 0;
#X obj 241 28 inlet values;
#X obj 52 29 inlet bang to output and reset;
#X obj 241 138 list;
#X obj 321 90 loadbang;
#X msg 321 112 bang;
#X obj 269 168 list;
#X obj 74 202 list;
#X obj 69 74 t b b;
#X obj 73 247 outlet;
#X connect 0 0 2 0;
#X connect 1 0 7 0;
#X connect 2 0 5 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 5 0 2 1;
#X connect 6 0 8 0;
#X connect 7 0 4 0;
#X connect 7 1 6 0;
#X restore 1037 397 pd makelist;
#X obj 510 435 r numberz32;
#X text 213 239 markov order;
#X obj 189 256 cnv 14 14 14 empty empty empty 20 12 0 14 -258113 -66577
0;
#X text 412 152 steps;
#X obj 414 148 hradio 8 1 0 32 nos numberz32 empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 615 471 bng 15 250 50 0 nos nor empty 17 7 0 10 -262144 -1 -1
;
#X obj 510 473 t a;
#X text 933 248 TODO: check order 0 write all pattern at once. program
algorithms of variation: syncopation \, density. integrate algorithms
with order 0 and higher.;
#X obj 562 508 s play_this;
#X obj 665 544 r play_this;
#X obj 741 362 s play_this;
#X obj 205 256 hradio 15 1 0 8 \$0-order nor empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 615 173 r start-drumz;
#N canvas 315 275 1017 693 oscOut 0;
#X obj 268 311 r step-p;
#X obj 16 20 import mrpeach;
#X obj 15 622 udpsend;
#X msg 15 111 connect 127.0.0.1 8000;
#X obj 15 69 loadbang;
#X obj 205 541 packOSC;
#X obj 81 68 r start-drumz;
#X text 269 287 Probabilities;
#X obj 268 350 route 0;
#N canvas 179 106 1001 633 dicc2patt 0;
#X obj 31 60 inlet;
#X obj 545 483 outlet;
#X obj 58 229 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X text 68 59 convert a number into a group of parallel patterns;
#X msg 47 402 0 0 0 0;
#X msg 99 401 1 0 0 0;
#X msg 154 401 0 1 0 0;
#X msg 210 402 0 0 1 0;
#X msg 271 403 0 0 0 1;
#X msg 323 402 1 1 0 0;
#X msg 378 402 1 0 1 0;
#X msg 430 401 1 0 0 1;
#X msg 486 402 0 1 1 0;
#X msg 538 401 0 1 0 1;
#X msg 593 401 0 0 1 1;
#X msg 649 402 1 1 1 0;
#X msg 710 403 1 1 0 1;
#X msg 762 402 1 0 1 1;
#X msg 817 402 0 1 1 1;
#X msg 869 401 1 1 1 1;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 2 2 6 0;
#X connect 2 3 7 0;
#X connect 2 4 8 0;
#X connect 2 5 9 0;
#X connect 2 6 10 0;
#X connect 2 7 11 0;
#X connect 2 8 12 0;
#X connect 2 9 13 0;
#X connect 2 10 14 0;
#X connect 2 11 15 0;
#X connect 2 12 16 0;
#X connect 2 13 17 0;
#X connect 2 14 18 0;
#X connect 2 15 19 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 1 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X connect 19 0 1 0;
#X restore 205 167 pd dicc2patt;
#X text 285 167 convertir el diccionario en patrones;
#X obj 205 130 t a b;
#X obj 205 110 - 10;
#X obj 205 69 r play_this;
#X obj 247 220 r nos;
#X obj 232 268 int;
#X obj 205 205 t l b;
#X obj 205 312 list;
#X text 203 44 Drum Events;
#X text 288 219 Append the Step;
#X obj 205 401 list append;
#X obj 205 496 prepend sendtyped /probData iiiiiffffffffffffffff;
#X connect 0 0 8 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 8 0 20 1;
#X connect 9 0 16 0;
#X connect 11 0 9 0;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 15 1;
#X connect 15 0 17 1;
#X connect 16 0 17 0;
#X connect 16 1 15 0;
#X connect 17 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 5 0;
#X restore 215 656 pd oscOut;
#X connect 8 0 7 0;
#X connect 9 0 21 0;
#X connect 9 1 20 0;
#X connect 9 2 17 0;
#X connect 9 2 22 0;
#X connect 11 0 9 0;
#X connect 12 0 9 0;
#X connect 13 0 9 0;
#X connect 14 0 9 0;
#X connect 15 0 9 0;
#X connect 18 0 9 0;
#X connect 19 0 9 0;
#X connect 20 0 21 1;
#X connect 20 1 21 2;
#X connect 22 0 21 3;
#X connect 24 0 26 0;
#X connect 26 0 28 0;
#X connect 26 1 27 0;
#X connect 27 0 30 1;
#X connect 28 0 30 0;
#X connect 29 0 24 0;
#X connect 30 0 32 0;
#X connect 31 0 33 0;
#X connect 31 1 34 0;
#X connect 32 0 31 0;
#X connect 33 0 35 1;
#X connect 34 0 33 1;
#X connect 34 1 60 0;
#X connect 35 0 56 0;
#X connect 35 1 58 0;
#X connect 35 2 55 0;
#X connect 50 0 35 0;
#X connect 55 0 48 0;
#X connect 56 0 35 1;
#X connect 59 0 16 0;
#X connect 61 0 21 4;
#X connect 62 0 29 0;
